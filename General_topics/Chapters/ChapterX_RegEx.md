# Chapter X:  Regular Expression  (RegEx)
**RegEx** (regular expressions) - это инструмент поска символов и подстрок в тексте.    
- https://regex101.com/ - удобный сайт для создания правильных regex запросов.

## Основные правила
### Операции:

- `\.` - экранирование. После черты следующий символ читается как обычный (не особый).
- `b` - поиск по указаной букве. Чуствителен к регистру те: `b` != `B`
- `.` - любой (вообще) символ. Те одиночному использованию `.` соответсвует весь текст.    
    `..` - любые 2 символа; `...` - 3 символа и тд.
- `[]` - любой из символов внутри скобки. Например, `[Ii]` - ищет оба варианта - I и i.    
    - `[a-b]` или `[2-7]` - можно указывать диапозоны как для букв (по латинскому алфавиту), так и для чисел. 
    - Если несколько диапозонов, то `[a-zA-Zа-яА-Я]` - это 4 диапозона англ малые и заглавные, а также русские малые и заглавные. Диапозоны идут подряд без разделения.
- `$` - конец строки.
- `^` - начало строки. Если заключено в скобки `[^ ]` - это отрицание.
    - `^b` - найдет b в начале строки
    - `[^b]` - любой символ кроме b
- `\d` - любая одиночная цифра
   `\D` - что угодно, кроме цифры. Сюда входит любой символ в тч и перенос строки (`\n`)
- `\s` - пробел (конец строки не входит) (Для Юникода – любой пробельный символ. `Для re.ASCII` – символьному классу `[ \t\n\r\f\v]`)
   `\S` - что угодно, кроме пробела
- `\w` - любая буква и цифра (для Юникода – любой символ слова. При флаге `re.ASCII` – набору символов `[a-zA-Z0-9_]`)
   `\W` - все кроме букв и цифр (те спецсимволы)
- `\b` - границы слова. Например, `\b\w\w\w\b` - слово из 3 букв. Надо быть внимательным тк границы слова при поске могу перекрываться (например, в тексте *ab cde* поиск `\b...\b` - выделит *ab_(пробел)* тк тут граница слова от *cde*.    
   `\B` - не граница слова

 ### Квантификаторы (мажорные):
- `\w{3}` - повторение символа несколько раз (те это эквивалентно `\w\w\w`)
  `n{1,3}` - диапозон 1-3, те выведи все слова где есть n, nn и nnn. Можно использовать: `{m,n}`, `{,n}`, `{m,}` - соответсвующие диапозоны; `{n}` - ровно n.
- `*` - от нуля и больше. Например, `da*` - ищет упоминания d, da, daa и тд
- `+` - от 1 и больше. Например, `da+` - ищет упоминания da, daa и тд
- `?` - ноль или 1 раз. Например, `da?` - ищет упоминания d и da.

#### Минорные квантификаторы
Приведенные выше квантификаторы - жадные. Это значит, что при возможности они будут выделять наиболее длинные строки. Например, запрос `Go{2, 4}` - выделит Goo, Gooo и Goooo, но предпочтение будет отданно 4 o; те в словах Gooo и Goooo выведут 3 и 4 o.    

Если нужно выделить наименьшую из последовательностей, то ставят квантификатор `?`. В пример выше: `Go{2,4}` будет выделять наименьшие последовательности те 2 o.

Так последовательности **`??`**, **`*?`** и **`+?`** - предпочтут наименьшие последовательности. Например, `a*?` - буква а от 1 и до бесконечноти, но предпочтем наименьший вариант. 

### Групировки 
- `(a|b)` - a или b. То  же самое, что и `[ab]`.     
    Например, `\d{3}(\s|-)\d{3}` (аналогично `\d{3}[\s-]\d{3}`) - для поиска 123-456 или 123 456 


## Примеры строк
- [a-zA-Zа-яА-Я] - только буквы рус и англ. `[a-zA-Z]` - если хочу только английские буквы (короткого варианта нет).
- `[^;]*?x` - любое наименьше кол-во символов кроме *;* пока не встретим *x*. Например, *dadax* - вернет *dada*

# Python re
